# DO NOT EDIT THIS FILE DIRECTLY!
#
# This file was generated by .github/workflows/templates/generate.py
#
# yamllint disable rule:line-length rule:empty-lines
---

name: Testing

'on': [push, pull_request]

jobs:

  generate-actions-workflow:
    name: Generate The Actions Workflow
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Pre-Commit
        run: |
          pip install -U pip
          pip install pre-commit
          pre-commit install

      - name: Generate Workflow Actions
        run: |
          pre-commit run -av generate-actions-workflow


  lint:
    name: Lint
    runs-on: ubuntu-latest

    needs: generate-actions-workflow

    container: koalaman/shellcheck-alpine:v0.6.0
    steps:
      - uses: actions/checkout@v1
      - name: ShellCheck
        run: |
          shellcheck -s sh -f tty bootstrap-salt.sh


  py3-stable-3003-almalinux-8:
    name: AlmaLinux 8 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-almalinux-8 || bundle exec kitchen create py3-stable-3003-almalinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-almalinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-almalinux-8


  py3-git-3003-almalinux-8:
    name: AlmaLinux 8 v3003 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3003-almalinux-8 || bundle exec kitchen create py3-git-3003-almalinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3003-almalinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3003-almalinux-8


  py3-stable-3004-almalinux-8:
    name: AlmaLinux 8 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-almalinux-8 || bundle exec kitchen create py3-stable-3004-almalinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-almalinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-almalinux-8


  py3-git-3004-almalinux-8:
    name: AlmaLinux 8 v3004 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3004-almalinux-8 || bundle exec kitchen create py3-git-3004-almalinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3004-almalinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3004-almalinux-8


  py3-git-master-almalinux-8:
    name: AlmaLinux 8 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-almalinux-8 || bundle exec kitchen create py3-git-master-almalinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-almalinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-almalinux-8


  latest-almalinux-8:
    name: AlmaLinux 8 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-almalinux-8 || bundle exec kitchen create latest-almalinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-almalinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-almalinux-8


  py3-stable-3002-amazon-2:
    name: Amazon 2 v3002 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3002-amazon-2 || bundle exec kitchen create py3-stable-3002-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3002-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3002-amazon-2


  py3-stable-3003-amazon-2:
    name: Amazon 2 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-amazon-2 || bundle exec kitchen create py3-stable-3003-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-amazon-2


  py3-stable-3004-amazon-2:
    name: Amazon 2 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-amazon-2 || bundle exec kitchen create py3-stable-3004-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-amazon-2


  py3-git-master-amazon-2:
    name: Amazon 2 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-amazon-2 || bundle exec kitchen create py3-git-master-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-amazon-2


  latest-amazon-2:
    name: Amazon 2 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-amazon-2 || bundle exec kitchen create latest-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-amazon-2


  py3-git-master-arch:
    name: Arch Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-arch || bundle exec kitchen create py3-git-master-arch

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-arch

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-arch


  latest-arch:
    name: Arch Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-arch || bundle exec kitchen create latest-arch

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-arch

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-arch


  py3-stable-3002-centos-7:
    name: CentOS 7 v3002 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3002-centos-7 || bundle exec kitchen create py3-stable-3002-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3002-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3002-centos-7


  py3-git-3002-centos-7:
    name: CentOS 7 v3002 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3002-centos-7 || bundle exec kitchen create py3-git-3002-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3002-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3002-centos-7


  py3-stable-3003-centos-7:
    name: CentOS 7 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-centos-7 || bundle exec kitchen create py3-stable-3003-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-centos-7


  py3-git-3003-centos-7:
    name: CentOS 7 v3003 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3003-centos-7 || bundle exec kitchen create py3-git-3003-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3003-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3003-centos-7


  py3-stable-3004-centos-7:
    name: CentOS 7 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-centos-7 || bundle exec kitchen create py3-stable-3004-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-centos-7


  py3-git-3004-centos-7:
    name: CentOS 7 v3004 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3004-centos-7 || bundle exec kitchen create py3-git-3004-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3004-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3004-centos-7


  py3-git-master-centos-7:
    name: CentOS 7 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-centos-7 || bundle exec kitchen create py3-git-master-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-centos-7


  latest-centos-7:
    name: CentOS 7 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-centos-7 || bundle exec kitchen create latest-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-centos-7


  py3-stable-3003-centos-stream8:
    name: CentOS Stream 8 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-centos-stream8 || bundle exec kitchen create py3-stable-3003-centos-stream8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-centos-stream8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-centos-stream8


  py3-git-3003-centos-stream8:
    name: CentOS Stream 8 v3003 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3003-centos-stream8 || bundle exec kitchen create py3-git-3003-centos-stream8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3003-centos-stream8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3003-centos-stream8


  py3-stable-3004-centos-stream8:
    name: CentOS Stream 8 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-centos-stream8 || bundle exec kitchen create py3-stable-3004-centos-stream8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-centos-stream8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-centos-stream8


  py3-git-3004-centos-stream8:
    name: CentOS Stream 8 v3004 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3004-centos-stream8 || bundle exec kitchen create py3-git-3004-centos-stream8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3004-centos-stream8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3004-centos-stream8


  py3-git-master-centos-stream8:
    name: CentOS Stream 8 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-centos-stream8 || bundle exec kitchen create py3-git-master-centos-stream8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-centos-stream8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-centos-stream8


  latest-centos-stream8:
    name: CentOS Stream 8 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-centos-stream8 || bundle exec kitchen create latest-centos-stream8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-centos-stream8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-centos-stream8


  py3-stable-3002-debian-10:
    name: Debian 10 v3002 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3002-debian-10 || bundle exec kitchen create py3-stable-3002-debian-10

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3002-debian-10

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3002-debian-10


  py3-stable-3003-debian-10:
    name: Debian 10 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-debian-10 || bundle exec kitchen create py3-stable-3003-debian-10

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-debian-10

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-debian-10


  py3-stable-3004-debian-10:
    name: Debian 10 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-debian-10 || bundle exec kitchen create py3-stable-3004-debian-10

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-debian-10

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-debian-10


  py3-git-master-debian-10:
    name: Debian 10 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-debian-10 || bundle exec kitchen create py3-git-master-debian-10

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-debian-10

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-debian-10


  latest-debian-10:
    name: Debian 10 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-debian-10 || bundle exec kitchen create latest-debian-10

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-debian-10

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-debian-10


  py3-stable-3004-debian-11:
    name: Debian 11 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-debian-11 || bundle exec kitchen create py3-stable-3004-debian-11

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-debian-11

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-debian-11


  py3-git-master-debian-11:
    name: Debian 11 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-debian-11 || bundle exec kitchen create py3-git-master-debian-11

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-debian-11

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-debian-11


  latest-debian-11:
    name: Debian 11 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-debian-11 || bundle exec kitchen create latest-debian-11

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-debian-11

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-debian-11


  py3-stable-3002-debian-9:
    name: Debian 9 v3002 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3002-debian-9 || bundle exec kitchen create py3-stable-3002-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3002-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3002-debian-9


  py3-git-3002-debian-9:
    name: Debian 9 v3002 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3002-debian-9 || bundle exec kitchen create py3-git-3002-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3002-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3002-debian-9


  py3-stable-3003-debian-9:
    name: Debian 9 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-debian-9 || bundle exec kitchen create py3-stable-3003-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-debian-9


  py3-git-3003-debian-9:
    name: Debian 9 v3003 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3003-debian-9 || bundle exec kitchen create py3-git-3003-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3003-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3003-debian-9


  py3-stable-3004-debian-9:
    name: Debian 9 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-debian-9 || bundle exec kitchen create py3-stable-3004-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-debian-9


  py3-git-3004-debian-9:
    name: Debian 9 v3004 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3004-debian-9 || bundle exec kitchen create py3-git-3004-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3004-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3004-debian-9


  py3-git-master-debian-9:
    name: Debian 9 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-debian-9 || bundle exec kitchen create py3-git-master-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-debian-9


  latest-debian-9:
    name: Debian 9 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-debian-9 || bundle exec kitchen create latest-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-debian-9


  py3-git-master-fedora-34:
    name: Fedora 34 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-fedora-34 || bundle exec kitchen create py3-git-master-fedora-34

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-fedora-34

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-fedora-34


  latest-fedora-34:
    name: Fedora 34 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-fedora-34 || bundle exec kitchen create latest-fedora-34

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-fedora-34

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-fedora-34


  py3-git-master-fedora-35:
    name: Fedora 35 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-fedora-35 || bundle exec kitchen create py3-git-master-fedora-35

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-fedora-35

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-fedora-35


  latest-fedora-35:
    name: Fedora 35 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-fedora-35 || bundle exec kitchen create latest-fedora-35

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-fedora-35

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-fedora-35


  py3-git-master-fedora-36:
    name: Fedora 36 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-fedora-36 || bundle exec kitchen create py3-git-master-fedora-36

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-fedora-36

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-fedora-36


  latest-fedora-36:
    name: Fedora 36 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-fedora-36 || bundle exec kitchen create latest-fedora-36

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-fedora-36

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-fedora-36


  py3-git-master-opensuse-15:
    name: Opensuse 15 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-opensuse-15 || bundle exec kitchen create py3-git-master-opensuse-15

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-opensuse-15

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-opensuse-15


  latest-opensuse-15:
    name: Opensuse 15 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-opensuse-15 || bundle exec kitchen create latest-opensuse-15

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-opensuse-15

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-opensuse-15


  py3-git-master-opensuse-tumbleweed:
    name: Opensuse Tumbleweed Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-opensuse-tumbleweed || bundle exec kitchen create py3-git-master-opensuse-tumbleweed

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-opensuse-tumbleweed

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-opensuse-tumbleweed


  latest-opensuse-tumbleweed:
    name: Opensuse Tumbleweed Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-opensuse-tumbleweed || bundle exec kitchen create latest-opensuse-tumbleweed

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-opensuse-tumbleweed

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-opensuse-tumbleweed


  py3-stable-3002-oraclelinux-7:
    name: Oracle Linux 7 v3002 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3002-oraclelinux-7 || bundle exec kitchen create py3-stable-3002-oraclelinux-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3002-oraclelinux-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3002-oraclelinux-7


  py3-git-3002-oraclelinux-7:
    name: Oracle Linux 7 v3002 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3002-oraclelinux-7 || bundle exec kitchen create py3-git-3002-oraclelinux-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3002-oraclelinux-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3002-oraclelinux-7


  py3-stable-3003-oraclelinux-7:
    name: Oracle Linux 7 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-oraclelinux-7 || bundle exec kitchen create py3-stable-3003-oraclelinux-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-oraclelinux-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-oraclelinux-7


  py3-git-3003-oraclelinux-7:
    name: Oracle Linux 7 v3003 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3003-oraclelinux-7 || bundle exec kitchen create py3-git-3003-oraclelinux-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3003-oraclelinux-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3003-oraclelinux-7


  py3-stable-3004-oraclelinux-7:
    name: Oracle Linux 7 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-oraclelinux-7 || bundle exec kitchen create py3-stable-3004-oraclelinux-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-oraclelinux-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-oraclelinux-7


  py3-git-3004-oraclelinux-7:
    name: Oracle Linux 7 v3004 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3004-oraclelinux-7 || bundle exec kitchen create py3-git-3004-oraclelinux-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3004-oraclelinux-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3004-oraclelinux-7


  py3-git-master-oraclelinux-7:
    name: Oracle Linux 7 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-oraclelinux-7 || bundle exec kitchen create py3-git-master-oraclelinux-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-oraclelinux-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-oraclelinux-7


  latest-oraclelinux-7:
    name: Oracle Linux 7 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-oraclelinux-7 || bundle exec kitchen create latest-oraclelinux-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-oraclelinux-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-oraclelinux-7


  py3-stable-3002-oraclelinux-8:
    name: Oracle Linux 8 v3002 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3002-oraclelinux-8 || bundle exec kitchen create py3-stable-3002-oraclelinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3002-oraclelinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3002-oraclelinux-8


  py3-git-3002-oraclelinux-8:
    name: Oracle Linux 8 v3002 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3002-oraclelinux-8 || bundle exec kitchen create py3-git-3002-oraclelinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3002-oraclelinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3002-oraclelinux-8


  py3-stable-3003-oraclelinux-8:
    name: Oracle Linux 8 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-oraclelinux-8 || bundle exec kitchen create py3-stable-3003-oraclelinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-oraclelinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-oraclelinux-8


  py3-git-3003-oraclelinux-8:
    name: Oracle Linux 8 v3003 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3003-oraclelinux-8 || bundle exec kitchen create py3-git-3003-oraclelinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3003-oraclelinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3003-oraclelinux-8


  py3-stable-3004-oraclelinux-8:
    name: Oracle Linux 8 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-oraclelinux-8 || bundle exec kitchen create py3-stable-3004-oraclelinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-oraclelinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-oraclelinux-8


  py3-git-3004-oraclelinux-8:
    name: Oracle Linux 8 v3004 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3004-oraclelinux-8 || bundle exec kitchen create py3-git-3004-oraclelinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3004-oraclelinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3004-oraclelinux-8


  py3-git-master-oraclelinux-8:
    name: Oracle Linux 8 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-oraclelinux-8 || bundle exec kitchen create py3-git-master-oraclelinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-oraclelinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-oraclelinux-8


  latest-oraclelinux-8:
    name: Oracle Linux 8 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-oraclelinux-8 || bundle exec kitchen create latest-oraclelinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-oraclelinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-oraclelinux-8


  py3-stable-3004-rockylinux-8:
    name: Rocky Linux 8 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-rockylinux-8 || bundle exec kitchen create py3-stable-3004-rockylinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-rockylinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-rockylinux-8


  py3-git-3004-rockylinux-8:
    name: Rocky Linux 8 v3004 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3004-rockylinux-8 || bundle exec kitchen create py3-git-3004-rockylinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3004-rockylinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3004-rockylinux-8


  py3-git-master-rockylinux-8:
    name: Rocky Linux 8 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-rockylinux-8 || bundle exec kitchen create py3-git-master-rockylinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-rockylinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-rockylinux-8


  latest-rockylinux-8:
    name: Rocky Linux 8 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-rockylinux-8 || bundle exec kitchen create latest-rockylinux-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-rockylinux-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-rockylinux-8


  py3-git-3002-ubuntu-1604:
    name: Ubuntu 16.04 v3002 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3002-ubuntu-1604 || bundle exec kitchen create py3-git-3002-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3002-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3002-ubuntu-1604


  py3-git-master-ubuntu-1604:
    name: Ubuntu 16.04 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-ubuntu-1604 || bundle exec kitchen create py3-git-master-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-ubuntu-1604


  py3-stable-3002-ubuntu-1804:
    name: Ubuntu 18.04 v3002 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3002-ubuntu-1804 || bundle exec kitchen create py3-stable-3002-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3002-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3002-ubuntu-1804


  py3-git-3002-ubuntu-1804:
    name: Ubuntu 18.04 v3002 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3002-ubuntu-1804 || bundle exec kitchen create py3-git-3002-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3002-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3002-ubuntu-1804


  py3-stable-3003-ubuntu-1804:
    name: Ubuntu 18.04 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-ubuntu-1804 || bundle exec kitchen create py3-stable-3003-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-ubuntu-1804


  py3-git-3003-ubuntu-1804:
    name: Ubuntu 18.04 v3003 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3003-ubuntu-1804 || bundle exec kitchen create py3-git-3003-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3003-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3003-ubuntu-1804


  py3-stable-3004-ubuntu-1804:
    name: Ubuntu 18.04 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-ubuntu-1804 || bundle exec kitchen create py3-stable-3004-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-ubuntu-1804


  py3-git-3004-ubuntu-1804:
    name: Ubuntu 18.04 v3004 Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-3004-ubuntu-1804 || bundle exec kitchen create py3-git-3004-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-3004-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-3004-ubuntu-1804


  py3-git-master-ubuntu-1804:
    name: Ubuntu 18.04 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-ubuntu-1804 || bundle exec kitchen create py3-git-master-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-ubuntu-1804


  latest-ubuntu-1804:
    name: Ubuntu 18.04 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-ubuntu-1804 || bundle exec kitchen create latest-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-ubuntu-1804


  py3-stable-3002-ubuntu-2004:
    name: Ubuntu 20.04 v3002 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3002-ubuntu-2004 || bundle exec kitchen create py3-stable-3002-ubuntu-2004

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3002-ubuntu-2004

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3002-ubuntu-2004


  py3-stable-3003-ubuntu-2004:
    name: Ubuntu 20.04 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-ubuntu-2004 || bundle exec kitchen create py3-stable-3003-ubuntu-2004

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-ubuntu-2004

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-ubuntu-2004


  py3-stable-3004-ubuntu-2004:
    name: Ubuntu 20.04 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-ubuntu-2004 || bundle exec kitchen create py3-stable-3004-ubuntu-2004

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-ubuntu-2004

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-ubuntu-2004


  py3-git-master-ubuntu-2004:
    name: Ubuntu 20.04 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-ubuntu-2004 || bundle exec kitchen create py3-git-master-ubuntu-2004

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-ubuntu-2004

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-ubuntu-2004


  latest-ubuntu-2004:
    name: Ubuntu 20.04 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-ubuntu-2004 || bundle exec kitchen create latest-ubuntu-2004

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-ubuntu-2004

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-ubuntu-2004


  py3-stable-3002-ubuntu-2110:
    name: Ubuntu 21.10 v3002 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3002-ubuntu-2110 || bundle exec kitchen create py3-stable-3002-ubuntu-2110

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3002-ubuntu-2110

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3002-ubuntu-2110


  py3-stable-3003-ubuntu-2110:
    name: Ubuntu 21.10 v3003 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3003-ubuntu-2110 || bundle exec kitchen create py3-stable-3003-ubuntu-2110

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3003-ubuntu-2110

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3003-ubuntu-2110


  py3-stable-3004-ubuntu-2110:
    name: Ubuntu 21.10 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-ubuntu-2110 || bundle exec kitchen create py3-stable-3004-ubuntu-2110

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-ubuntu-2110

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-ubuntu-2110


  py3-git-master-ubuntu-2110:
    name: Ubuntu 21.10 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-ubuntu-2110 || bundle exec kitchen create py3-git-master-ubuntu-2110

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-ubuntu-2110

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-ubuntu-2110


  latest-ubuntu-2110:
    name: Ubuntu 21.10 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-ubuntu-2110 || bundle exec kitchen create latest-ubuntu-2110

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-ubuntu-2110

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-ubuntu-2110


  py3-stable-3004-ubuntu-2204:
    name: Ubuntu 22.04 v3004 Py3 Stable
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-3004-ubuntu-2204 || bundle exec kitchen create py3-stable-3004-ubuntu-2204

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-3004-ubuntu-2204

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-3004-ubuntu-2204


  py3-git-master-ubuntu-2204:
    name: Ubuntu 22.04 Master Py3 Git
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-master-ubuntu-2204 || bundle exec kitchen create py3-git-master-ubuntu-2204

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-master-ubuntu-2204

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-master-ubuntu-2204


  latest-ubuntu-2204:
    name: Ubuntu 22.04 Latest packaged release
    runs-on: ubuntu-latest
    timeout-minutes: 20

    needs: lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-ubuntu-2204 || bundle exec kitchen create latest-ubuntu-2204

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-ubuntu-2204

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-ubuntu-2204
