# DO NOT EDIT THIS FILE DIRECTLY!
#
# This file was generated by .github/workflows/templates/generate.py

name: Testing

on: [push, pull_request]

jobs:

  generate-actions-workflow:
    name: Generate The Actions Workflow
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Pre-Commit
        run: |
          pip install -U pip
          pip install pre-commit
          pre-commit install

      - name: Generate Workflow Actions
        run: |
          pre-commit run -v generate-actions-workflow


  Lint:
    runs-on: ubuntu-latest
    container: koalaman/shellcheck-alpine:v0.6.0
    steps:
      - uses: actions/checkout@v1
      - name: ShellCheck
        run: |
          shellcheck -s sh -f checkstyle bootstrap-salt.sh


  py2-stable-2019-2-amazon-2:
    name: Amazon 2 2019.2 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2019-2-amazon-2 || bundle exec kitchen create py2-stable-2019-2-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2019-2-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2019-2-amazon-2


  py2-git-2019-2-amazon-2:
    name: Amazon 2 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-amazon-2 || bundle exec kitchen create py2-git-2019-2-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-amazon-2


  py3-stable-2019-2-amazon-2:
    name: Amazon 2 2019.2 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2019-2-amazon-2 || bundle exec kitchen create py3-stable-2019-2-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2019-2-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2019-2-amazon-2


  py3-git-2019-2-amazon-2:
    name: Amazon 2 2019.2 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2019-2-amazon-2 || bundle exec kitchen create py3-git-2019-2-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2019-2-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2019-2-amazon-2


  latest-amazon-2:
    name: Amazon 2 Latest packaged release
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-amazon-2 || bundle exec kitchen create latest-amazon-2

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-amazon-2

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-amazon-2


  py2-git-2018-3-arch:
    name: Arch 2018.3 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2018-3-arch || bundle exec kitchen create py2-git-2018-3-arch

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2018-3-arch

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2018-3-arch


  py3-git-2018-3-arch:
    name: Arch 2018.3 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2018-3-arch || bundle exec kitchen create py3-git-2018-3-arch

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2018-3-arch

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2018-3-arch


  py2-git-2019-2-arch:
    name: Arch 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-arch || bundle exec kitchen create py2-git-2019-2-arch

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-arch

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-arch


  py3-git-2019-2-arch:
    name: Arch 2019.2 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2019-2-arch || bundle exec kitchen create py3-git-2019-2-arch

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2019-2-arch

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2019-2-arch


  py2-stable-2018-3-centos-6:
    name: CentOS 6 2018.3 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2018-3-centos-6 || bundle exec kitchen create py2-stable-2018-3-centos-6

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2018-3-centos-6

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2018-3-centos-6


  py2-git-2018-3-centos-6:
    name: CentOS 6 2018.3 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2018-3-centos-6 || bundle exec kitchen create py2-git-2018-3-centos-6

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2018-3-centos-6

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2018-3-centos-6


  py2-stable-2019-2-centos-6:
    name: CentOS 6 2019.2 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2019-2-centos-6 || bundle exec kitchen create py2-stable-2019-2-centos-6

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2019-2-centos-6

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2019-2-centos-6


  py2-git-2019-2-centos-6:
    name: CentOS 6 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-centos-6 || bundle exec kitchen create py2-git-2019-2-centos-6

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-centos-6

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-centos-6


  latest-centos-6:
    name: CentOS 6 Latest packaged release
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-centos-6 || bundle exec kitchen create latest-centos-6

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-centos-6

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-centos-6


  py2-stable-2018-3-centos-7:
    name: CentOS 7 2018.3 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2018-3-centos-7 || bundle exec kitchen create py2-stable-2018-3-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2018-3-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2018-3-centos-7


  py2-git-2018-3-centos-7:
    name: CentOS 7 2018.3 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2018-3-centos-7 || bundle exec kitchen create py2-git-2018-3-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2018-3-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2018-3-centos-7


  py3-stable-2018-3-centos-7:
    name: CentOS 7 2018.3 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2018-3-centos-7 || bundle exec kitchen create py3-stable-2018-3-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2018-3-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2018-3-centos-7


  py3-git-2018-3-centos-7:
    name: CentOS 7 2018.3 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2018-3-centos-7 || bundle exec kitchen create py3-git-2018-3-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2018-3-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2018-3-centos-7


  py2-stable-2019-2-centos-7:
    name: CentOS 7 2019.2 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2019-2-centos-7 || bundle exec kitchen create py2-stable-2019-2-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2019-2-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2019-2-centos-7


  py2-git-2019-2-centos-7:
    name: CentOS 7 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-centos-7 || bundle exec kitchen create py2-git-2019-2-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-centos-7


  py3-stable-2019-2-centos-7:
    name: CentOS 7 2019.2 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2019-2-centos-7 || bundle exec kitchen create py3-stable-2019-2-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2019-2-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2019-2-centos-7


  py3-git-2019-2-centos-7:
    name: CentOS 7 2019.2 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2019-2-centos-7 || bundle exec kitchen create py3-git-2019-2-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2019-2-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2019-2-centos-7


  latest-centos-7:
    name: CentOS 7 Latest packaged release
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-centos-7 || bundle exec kitchen create latest-centos-7

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-centos-7

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-centos-7


  py3-stable-2019-2-centos-8:
    name: CentOS 8 2019.2 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2019-2-centos-8 || bundle exec kitchen create py3-stable-2019-2-centos-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2019-2-centos-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2019-2-centos-8


  py3-git-2019-2-centos-8:
    name: CentOS 8 2019.2 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2019-2-centos-8 || bundle exec kitchen create py3-git-2019-2-centos-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2019-2-centos-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2019-2-centos-8


  py3-stable-2019-2-debian-10:
    name: Debian 10 2019.2 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2019-2-debian-10 || bundle exec kitchen create py3-stable-2019-2-debian-10

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2019-2-debian-10

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2019-2-debian-10


  py3-git-2019-2-debian-10:
    name: Debian 10 2019.2 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2019-2-debian-10 || bundle exec kitchen create py3-git-2019-2-debian-10

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2019-2-debian-10

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2019-2-debian-10


  py2-stable-2018-3-debian-8:
    name: Debian 8 2018.3 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2018-3-debian-8 || bundle exec kitchen create py2-stable-2018-3-debian-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2018-3-debian-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2018-3-debian-8


  py2-git-2018-3-debian-8:
    name: Debian 8 2018.3 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2018-3-debian-8 || bundle exec kitchen create py2-git-2018-3-debian-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2018-3-debian-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2018-3-debian-8


  py2-stable-2019-2-debian-8:
    name: Debian 8 2019.2 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2019-2-debian-8 || bundle exec kitchen create py2-stable-2019-2-debian-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2019-2-debian-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2019-2-debian-8


  py2-git-2019-2-debian-8:
    name: Debian 8 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-debian-8 || bundle exec kitchen create py2-git-2019-2-debian-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-debian-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-debian-8


  latest-debian-8:
    name: Debian 8 Latest packaged release
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-debian-8 || bundle exec kitchen create latest-debian-8

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-debian-8

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-debian-8


  py2-stable-2018-3-debian-9:
    name: Debian 9 2018.3 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2018-3-debian-9 || bundle exec kitchen create py2-stable-2018-3-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2018-3-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2018-3-debian-9


  py2-git-2018-3-debian-9:
    name: Debian 9 2018.3 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2018-3-debian-9 || bundle exec kitchen create py2-git-2018-3-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2018-3-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2018-3-debian-9


  py3-stable-2018-3-debian-9:
    name: Debian 9 2018.3 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2018-3-debian-9 || bundle exec kitchen create py3-stable-2018-3-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2018-3-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2018-3-debian-9


  py3-git-2018-3-debian-9:
    name: Debian 9 2018.3 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2018-3-debian-9 || bundle exec kitchen create py3-git-2018-3-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2018-3-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2018-3-debian-9


  py2-stable-2019-2-debian-9:
    name: Debian 9 2019.2 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2019-2-debian-9 || bundle exec kitchen create py2-stable-2019-2-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2019-2-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2019-2-debian-9


  py2-git-2019-2-debian-9:
    name: Debian 9 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-debian-9 || bundle exec kitchen create py2-git-2019-2-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-debian-9


  py3-stable-2019-2-debian-9:
    name: Debian 9 2019.2 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2019-2-debian-9 || bundle exec kitchen create py3-stable-2019-2-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2019-2-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2019-2-debian-9


  py3-git-2019-2-debian-9:
    name: Debian 9 2019.2 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2019-2-debian-9 || bundle exec kitchen create py3-git-2019-2-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2019-2-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2019-2-debian-9


  latest-debian-9:
    name: Debian 9 Latest packaged release
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-debian-9 || bundle exec kitchen create latest-debian-9

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-debian-9

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-debian-9


  py2-stable-2018-3-fedora-30:
    name: Fedora 30 2018.3 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2018-3-fedora-30 || bundle exec kitchen create py2-stable-2018-3-fedora-30

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2018-3-fedora-30

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2018-3-fedora-30


  py2-git-2018-3-fedora-30:
    name: Fedora 30 2018.3 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2018-3-fedora-30 || bundle exec kitchen create py2-git-2018-3-fedora-30

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2018-3-fedora-30

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2018-3-fedora-30


  py3-stable-2018-3-fedora-30:
    name: Fedora 30 2018.3 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2018-3-fedora-30 || bundle exec kitchen create py3-stable-2018-3-fedora-30

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2018-3-fedora-30

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2018-3-fedora-30


  py3-git-2018-3-fedora-30:
    name: Fedora 30 2018.3 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2018-3-fedora-30 || bundle exec kitchen create py3-git-2018-3-fedora-30

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2018-3-fedora-30

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2018-3-fedora-30


  py2-stable-2019-2-fedora-30:
    name: Fedora 30 2019.2 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2019-2-fedora-30 || bundle exec kitchen create py2-stable-2019-2-fedora-30

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2019-2-fedora-30

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2019-2-fedora-30


  py2-git-2019-2-fedora-30:
    name: Fedora 30 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-fedora-30 || bundle exec kitchen create py2-git-2019-2-fedora-30

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-fedora-30

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-fedora-30


  py3-stable-2019-2-fedora-30:
    name: Fedora 30 2019.2 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2019-2-fedora-30 || bundle exec kitchen create py3-stable-2019-2-fedora-30

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2019-2-fedora-30

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2019-2-fedora-30


  py3-git-2019-2-fedora-30:
    name: Fedora 30 2019.2 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2019-2-fedora-30 || bundle exec kitchen create py3-git-2019-2-fedora-30

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2019-2-fedora-30

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2019-2-fedora-30


  latest-fedora-30:
    name: Fedora 30 Latest packaged release
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-fedora-30 || bundle exec kitchen create latest-fedora-30

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-fedora-30

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-fedora-30


  py2-git-2018-3-opensuse-15:
    name: Opensuse 15 2018.3 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2018-3-opensuse-15 || bundle exec kitchen create py2-git-2018-3-opensuse-15

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2018-3-opensuse-15

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2018-3-opensuse-15


  py2-git-2019-2-opensuse-15:
    name: Opensuse 15 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-opensuse-15 || bundle exec kitchen create py2-git-2019-2-opensuse-15

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-opensuse-15

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-opensuse-15


  latest-opensuse-15:
    name: Opensuse 15 Latest packaged release
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-opensuse-15 || bundle exec kitchen create latest-opensuse-15

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-opensuse-15

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-opensuse-15


  py2-stable-2018-3-ubuntu-1604:
    name: Ubuntu 16.04 2018.3 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2018-3-ubuntu-1604 || bundle exec kitchen create py2-stable-2018-3-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2018-3-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2018-3-ubuntu-1604


  py2-git-2018-3-ubuntu-1604:
    name: Ubuntu 16.04 2018.3 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2018-3-ubuntu-1604 || bundle exec kitchen create py2-git-2018-3-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2018-3-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2018-3-ubuntu-1604


  py3-stable-2018-3-ubuntu-1604:
    name: Ubuntu 16.04 2018.3 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2018-3-ubuntu-1604 || bundle exec kitchen create py3-stable-2018-3-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2018-3-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2018-3-ubuntu-1604


  py3-git-2018-3-ubuntu-1604:
    name: Ubuntu 16.04 2018.3 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2018-3-ubuntu-1604 || bundle exec kitchen create py3-git-2018-3-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2018-3-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2018-3-ubuntu-1604


  py2-stable-2019-2-ubuntu-1604:
    name: Ubuntu 16.04 2019.2 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2019-2-ubuntu-1604 || bundle exec kitchen create py2-stable-2019-2-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2019-2-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2019-2-ubuntu-1604


  py2-git-2019-2-ubuntu-1604:
    name: Ubuntu 16.04 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-ubuntu-1604 || bundle exec kitchen create py2-git-2019-2-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-ubuntu-1604


  py3-stable-2019-2-ubuntu-1604:
    name: Ubuntu 16.04 2019.2 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2019-2-ubuntu-1604 || bundle exec kitchen create py3-stable-2019-2-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2019-2-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2019-2-ubuntu-1604


  py3-git-2019-2-ubuntu-1604:
    name: Ubuntu 16.04 2019.2 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2019-2-ubuntu-1604 || bundle exec kitchen create py3-git-2019-2-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2019-2-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2019-2-ubuntu-1604


  latest-ubuntu-1604:
    name: Ubuntu 16.04 Latest packaged release
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-ubuntu-1604 || bundle exec kitchen create latest-ubuntu-1604

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-ubuntu-1604

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-ubuntu-1604


  py2-stable-2018-3-ubuntu-1804:
    name: Ubuntu 18.04 2018.3 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2018-3-ubuntu-1804 || bundle exec kitchen create py2-stable-2018-3-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2018-3-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2018-3-ubuntu-1804


  py2-git-2018-3-ubuntu-1804:
    name: Ubuntu 18.04 2018.3 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2018-3-ubuntu-1804 || bundle exec kitchen create py2-git-2018-3-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2018-3-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2018-3-ubuntu-1804


  py3-stable-2018-3-ubuntu-1804:
    name: Ubuntu 18.04 2018.3 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2018-3-ubuntu-1804 || bundle exec kitchen create py3-stable-2018-3-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2018-3-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2018-3-ubuntu-1804


  py3-git-2018-3-ubuntu-1804:
    name: Ubuntu 18.04 2018.3 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2018-3-ubuntu-1804 || bundle exec kitchen create py3-git-2018-3-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2018-3-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2018-3-ubuntu-1804


  py2-stable-2019-2-ubuntu-1804:
    name: Ubuntu 18.04 2019.2 Py2 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-stable-2019-2-ubuntu-1804 || bundle exec kitchen create py2-stable-2019-2-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-stable-2019-2-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-stable-2019-2-ubuntu-1804


  py2-git-2019-2-ubuntu-1804:
    name: Ubuntu 18.04 2019.2 Py2 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py2-git-2019-2-ubuntu-1804 || bundle exec kitchen create py2-git-2019-2-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py2-git-2019-2-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py2-git-2019-2-ubuntu-1804


  py3-stable-2019-2-ubuntu-1804:
    name: Ubuntu 18.04 2019.2 Py3 Stable
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-stable-2019-2-ubuntu-1804 || bundle exec kitchen create py3-stable-2019-2-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-stable-2019-2-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-stable-2019-2-ubuntu-1804


  py3-git-2019-2-ubuntu-1804:
    name: Ubuntu 18.04 2019.2 Py3 Git
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create py3-git-2019-2-ubuntu-1804 || bundle exec kitchen create py3-git-2019-2-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify py3-git-2019-2-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy py3-git-2019-2-ubuntu-1804


  latest-ubuntu-1804:
    name: Ubuntu 18.04 Latest packaged release
    runs-on: ubuntu-latest

    needs: Lint

    steps:
      - uses: actions/checkout@v1
      - name: Setup Ruby
        uses: actions/setup-ruby@v1
        with:
          ruby-version: 2.6.x

      - name: Install Bundler
        run: |
          gem install bundler

      - name: Setup Bundle
        run: |
          bundle install --with docker --without opennebula ec2 windows vagrant

      - name: Set up Python 3.7
        uses: actions/setup-python@v1
        with:
          python-version: 3.7

      - name: Install Python Dependencies
        run: |
          pip install -U pip
          pip install -r tests/requirements.txt

      - name: Create Test Container
        run: |
          bundle exec kitchen create latest-ubuntu-1804 || bundle exec kitchen create latest-ubuntu-1804

      - name: Test Bootstrap In Test Container
        run: |
          bundle exec kitchen verify latest-ubuntu-1804

      - name: Destroy Test Container
        if: always()
        run: |
          bundle exec kitchen destroy latest-ubuntu-1804
